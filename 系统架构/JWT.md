## JWT

JWT 全称 JSON Web Token

json web token 分为三部分：

1. type （签名使用的算法类型）
2. payload （载荷）
3. 签名

签名保证内容不被篡改！



### 在用户修改密码后，如何将令牌（jwt）置为无效？

为了解决这个问题，**我们可以把 JWT 令牌存储到远程的分布式内存数据库中吗？显然不能，因为这会违背 JWT 的初衷（将信息通过结构化的方式存入令牌本身）**。因此，我们通常会有两种做法：

- 一是，**将每次生成 JWT 令牌时的秘钥粒度缩小到用户级别**，也就是一个用户一个秘钥。这样，当用户取消授权或者修改密码后，就可以让这个密钥一起修改。一般情况下，这种方案需要配套一个单独的密钥管理服务。
- 二是，在不提供用户主动取消授权的环境里面，如果只考虑到修改密码的情况，那么我们就可以把用户密码作为 JWT 的密钥。当然，这也是用户粒度级别的。这样一来，用户修改密码也就相当于修改了密钥。



